# FAQ about running hazard calculations

## classical calculations

### How do I export the hazard curves/maps/uhs for each realization?

By default the engine only exports statistical results, i.e. the mean
hazard curves/maps/uhs. If you want the individual results you must set
`individual_curves=true` in the job.ini files. Please take care: if you have
thousands of realizations (which is quite common) the data transfer
and disk space requirements will be thousands of times larger than
just returning the mean results: the calculation might fail. This is
why by default `individual_curves` is false.

### Argh, I forgot to set `individual_curves`! Must I repeat the calculation?

No, just set `individual_curves=true` in the job.ini and run
```bash
$ oq engine --run job.ini --reuse-hazard --exports csv
```
The individual outputs will be regenerated by reusing the result of the
previous calculation: it will be a lot faster than repeating the calculation
from scratch.

### Argh, I set the wrong `poes` in the job.ini? Must I repeat the calculation?

No, set the right `poes` in the job.ini and as before run
```bash
$ oq engine --run job.ini --reuse-hazard --exports csv
```
Hazard maps and UHS can be regenerated from an existing calculation
quite efficiently.

## event based calculations

### What is the relation between sources, ruptures, events and realizations?

A single rupture can produce multiple seismic events during the
investigation time. In the engine a rupture is uniquely identified by
a rupture ID, a.k.a. `serial`, which is a 32 bit positive integer.
Starting from engine 3.3, seismic events are uniquely identified by an
event ID, a.k.a. `eid`, which is a 64 bit positive integer. The relation
between event ID and rupture ID is given by the following formula:

   rupture_ID = event_ID // 2 ** 32

where `//` is the integer division. For instance the event ID 
7374458847232 is associated to the rupture ID 1717. Given an event ID
it is possible to ascertain the realization it belongs to, by looking
inside the `events` table in the datastore. The properties of the
rupture generating the events can be ascertained by looking inside the
`ruptures` table. In particular ther `srcidx` contains the index of the
source that generated the rupture. The `srcidx` can be used to extract
the properties of the sources by looking inside the `source_info` table,
which contains the `source_id` string used in the XML source model.
