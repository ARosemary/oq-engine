[tox]
envlist = py36,py37
skipsdist = True

[testenv]
deps = 
    pip
    pytest
    py36: -rrequirements-py36-linux64.txt
    py37: -rrequirements-py37-linux64.txt

# openquake.server is not currently supported
# since it requires a DbSever from the same venv
commands = 
    pip install -e .
    pytest {posargs} --doctest-module -v openquake/engine
    pytest {posargs} --doctest-module -v openquake/calculators
    pytest {posargs} --doctest-module -v openquake/risklib
    pytest {posargs} --doctest-module -v openquake/commonlib
    pytest {posargs} --doctest-module -v openquake/commands
